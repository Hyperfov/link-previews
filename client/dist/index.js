/** 
 * hyperfov-link-previews.js vundefined
 * (c) 2021-2022 Christian Broms
 * MIT License
 */
"use strict";(()=>{var sn=Object.defineProperty,pn=Object.defineProperties;var fn=Object.getOwnPropertyDescriptors;var ar=Object.getOwnPropertySymbols;var ln=Object.prototype.hasOwnProperty,un=Object.prototype.propertyIsEnumerable;var sr=(t,e,r)=>e in t?sn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,yt=(t,e)=>{for(var r in e||={})ln.call(e,r)&&sr(t,r,e[r]);if(ar)for(var r of ar(e))un.call(e,r)&&sr(t,r,e[r]);return t},pr=(t,e)=>pn(t,fn(e));var Pe=t=>{console.log(`HYPERFOV LINK PREVIEWS >> ${t}`)},Rt=t=>{console.warn(`HYPERFOV LINK PREVIEWS >> ${t}`)},bt=t=>{console.error(`HYPERFOV LINK PREVIEWS >> ${t}`)};var cn=t=>typeof t=="string"?[...document.querySelectorAll(t)]:t instanceof Element?[t]:(bt("unknown element type; must be one of String, Element, Element[]"),[]),wt=cn;var kt=class extends HTMLElement{static get observedAttributes(){return["open","template","fetch","fetch-on-open","worker","content"]}constructor(){super(),this._shadow=this.attachShadow({mode:"open"}),this.retrievePage=this.retrievePage.bind(this),this.getAttrOrDefault=this.getAttrOrDefault.bind(this),this.renderContent=this.renderContent.bind(this),this.clearContent=this.clearContent.bind(this),this.renderTemplate=this.renderTemplate.bind(this),this.renderTextElement=this.renderTextElement.bind(this),this.renderImageElement=this.renderImageElement.bind(this),this.fetchOnHover=this.getAttrOrDefault("fetch-on-hover",!0,e=>e==="true"),this.fetch=this.getAttrOrDefault("fetch",!0,e=>e==="true"),this.open=this.getAttrOrDefault("open",!1,e=>e==="true"),this.worker=this.getAttrOrDefault("worker",null),this.template=this.getAttrOrDefault("template",null),this.templateElt=null,this.elements={},this.retrievedPage=!1,this.content=this.getAttrOrDefault("content",null,e=>JSON.parse(e)),this.renderContent(),this.contentRenderers={title:{render:e=>this.renderTextElement("title",e)},description:{render:e=>this.renderTextElement("description",e)},href:{render:e=>this.renderTextElement("href",e)},image:{render:e=>this.renderImageElement("image",e)},favicon:{render:e=>this.renderImageElement("favicon",e)}}}attributeChangedCallback(e){var r;if(e==="open")this.open=this.getAttrOrDefault(e,!1,n=>n==="true");else if(e==="fetch-on-hover")this.fetchOnHover=this.getAttrOrDefault(e,!0,n=>n==="true");else if(e==="fetch")this.fetch=this.getAttrOrDefault(e,!0,n=>n==="true");else if(e==="content"){let n=this.getAttrOrDefault(e,null,o=>JSON.parse(o));(n==null?void 0:n.href)!==((r=this.content)==null?void 0:r.href)&&this.clearContent(),this.content=n}else this[e]=this.getAttrOrDefault(e,null);this.renderContent()}clearContent(){for(let e in this.elements){try{this.removeChild(this.elements[e])}catch(r){}delete this.elements[e]}this.retrievedPage=!1}renderContent(){var e,r;this.templateElt||this.renderTemplate(),this.fetch&&this.worker&&!this.retrievedPage&&((e=this.content)==null?void 0:e.href)&&(!this.fetchOnHover||this.open)&&this.retrievePage();for(let n in this.content)(r=this.contentRenderers[n])==null||r.render(this.content[n])}renderTextElement(e,r){let n=this.elements[e];n||(n=document.createElement("span"),n.id=`lp-${e}`,n.setAttribute("slot",`lp-${e}`),this.appendChild(n),this.elements[e]=n),n.textContent=r}renderImageElement(e,r){let n=this.elements[e];if(!n){n=document.createElement("img"),n.id=`lp-${e}`,n.setAttribute("slot",`lp-${e}`);let a=new Image;a.src=r,a.onload=()=>{n.src=a.src,this.appendChild(n)},this.elements[e]=n}let o=new Image;o.src=r,o.onload=()=>{n.src=o.src}}renderTemplate(){if(this.template&&!this.templateElt){let e=wt(this.template);e&&(this.templateElt=e[0].content,this._shadow.appendChild(this.templateElt.cloneNode(!0)))}}retrievePage(){var e,r;this.retrievedPage=!0,Pe(`Getting: ${(e=this.content)==null?void 0:e.href}`),fetch(`${this.worker}/?page=${(r=this.content)==null?void 0:r.href}`).then(n=>{n.ok&&n.json().then(o=>{for(let a in o)this.content[a]||(this.content[a]=o[a]);this.renderContent()})})}getAttrOrDefault(e,r,n=o=>o){if(this.hasAttribute(e))try{let o=this.getAttribute(e);return n(o)}catch(o){bt(`could not parse attribute "${e}" with value ${val}`)}return r}},fr=kt;var jt=t=>t&&typeof t=="object"&&!Array.isArray(t),Je=(t,...e)=>{if(!e.length)return t;let r=e.shift();if(jt(t)&&jt(r))for(let n in r)jt(r[n])?(t[n]||Object.assign(t,{[n]:{}}),Je(t[n],r[n])):Object.assign(t,{[n]:r[n]});return Je(t,...e)};var I="top",W="bottom",B="right",V="left",xt="auto",be=[I,W,B,V],me="start",Ae="end",lr="clippingParents",Et="viewport",He="popper",ur="reference",It=be.reduce(function(t,e){return t.concat([e+"-"+me,e+"-"+Ae])},[]),Ot=[].concat(be,[xt]).reduce(function(t,e){return t.concat([e,e+"-"+me,e+"-"+Ae])},[]),dn="beforeRead",mn="read",vn="afterRead",hn="beforeMain",gn="main",yn="afterMain",bn="beforeWrite",wn="write",xn="afterWrite",cr=[dn,mn,vn,hn,gn,yn,bn,wn,xn];function _(t){return t?(t.nodeName||"").toLowerCase():null}function j(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Q(t){var e=j(t).Element;return t instanceof e||t instanceof Element}function H(t){var e=j(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function _e(t){if(typeof ShadowRoot>"u")return!1;var e=j(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function En(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},o=e.attributes[r]||{},a=e.elements[r];!H(a)||!_(a)||(Object.assign(a.style,n),Object.keys(o).forEach(function(f){var l=o[f];l===!1?a.removeAttribute(f):a.setAttribute(f,l===!0?"":l)}))})}function On(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],a=e.attributes[n]||{},f=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),l=f.reduce(function(p,c){return p[c]="",p},{});!H(o)||!_(o)||(Object.assign(o.style,l),Object.keys(a).forEach(function(p){o.removeAttribute(p)}))})}}var Qe={name:"applyStyles",enabled:!0,phase:"write",fn:En,effect:On,requires:["computeStyles"]};function $(t){return t.split("-")[0]}var re=Math.max,Ce=Math.min,ve=Math.round;function $e(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ze(){return!/^((?!chrome|android).)*safari/i.test($e())}function Z(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),o=1,a=1;e&&H(t)&&(o=t.offsetWidth>0&&ve(n.width)/t.offsetWidth||1,a=t.offsetHeight>0&&ve(n.height)/t.offsetHeight||1);var f=Q(t)?j(t):window,l=f.visualViewport,p=!Ze()&&r,c=(n.left+(p&&l?l.offsetLeft:0))/o,u=(n.top+(p&&l?l.offsetTop:0))/a,w=n.width/o,E=n.height/a;return{width:w,height:E,top:u,right:c+w,bottom:u+E,left:c,x:c,y:u}}function De(t){var e=Z(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function et(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&_e(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function G(t){return j(t).getComputedStyle(t)}function Vt(t){return["table","td","th"].indexOf(_(t))>=0}function F(t){return((Q(t)?t.ownerDocument:t.document)||window.document).documentElement}function he(t){return _(t)==="html"?t:t.assignedSlot||t.parentNode||(_e(t)?t.host:null)||F(t)}function dr(t){return!H(t)||G(t).position==="fixed"?null:t.offsetParent}function Tn(t){var e=/firefox/i.test($e()),r=/Trident/i.test($e());if(r&&H(t)){var n=G(t);if(n.position==="fixed")return null}var o=he(t);for(_e(o)&&(o=o.host);H(o)&&["html","body"].indexOf(_(o))<0;){var a=G(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function ne(t){for(var e=j(t),r=dr(t);r&&Vt(r)&&G(r).position==="static";)r=dr(r);return r&&(_(r)==="html"||_(r)==="body"&&G(r).position==="static")?e:r||Tn(t)||e}function Se(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Le(t,e,r){return re(t,Ce(e,r))}function mr(t,e,r){var n=Le(t,e,r);return n>r?r:n}function tt(){return{top:0,right:0,bottom:0,left:0}}function rt(t){return Object.assign({},tt(),t)}function nt(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var Pn=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,rt(typeof e!="number"?e:nt(e,be))};function An(t){var e,r=t.state,n=t.name,o=t.options,a=r.elements.arrow,f=r.modifiersData.popperOffsets,l=$(r.placement),p=Se(l),c=[V,B].indexOf(l)>=0,u=c?"height":"width";if(!(!a||!f)){var w=Pn(o.padding,r),E=De(a),h=p==="y"?I:V,x=p==="y"?W:B,v=r.rects.reference[u]+r.rects.reference[p]-f[p]-r.rects.popper[u],b=f[p]-r.rects.reference[p],y=ne(a),T=y?p==="y"?y.clientHeight||0:y.clientWidth||0:0,M=v/2-b/2,i=w[h],O=T-E[u]-w[x],d=T/2-E[u]/2+M,S=Le(i,d,O),D=p;r.modifiersData[n]=(e={},e[D]=S,e.centerOffset=S-d,e)}}function Cn(t){var e=t.state,r=t.options,n=r.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||!et(e.elements.popper,o)||(e.elements.arrow=o))}var vr={name:"arrow",enabled:!0,phase:"main",fn:An,effect:Cn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ee(t){return t.split("-")[1]}var Dn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sn(t){var e=t.x,r=t.y,n=window,o=n.devicePixelRatio||1;return{x:ve(e*o)/o||0,y:ve(r*o)/o||0}}function hr(t){var e,r=t.popper,n=t.popperRect,o=t.placement,a=t.variation,f=t.offsets,l=t.position,p=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,w=t.isFixed,E=f.x,h=E===void 0?0:E,x=f.y,v=x===void 0?0:x,b=typeof u=="function"?u({x:h,y:v}):{x:h,y:v};h=b.x,v=b.y;var y=f.hasOwnProperty("x"),T=f.hasOwnProperty("y"),M=V,i=I,O=window;if(c){var d=ne(r),S="clientHeight",D="clientWidth";if(d===j(r)&&(d=F(r),G(d).position!=="static"&&l==="absolute"&&(S="scrollHeight",D="scrollWidth")),d=d,o===I||(o===V||o===B)&&a===Ae){i=W;var k=w&&d===O&&O.visualViewport?O.visualViewport.height:d[S];v-=k-n.height,v*=p?1:-1}if(o===V||(o===I||o===W)&&a===Ae){M=B;var N=w&&d===O&&O.visualViewport?O.visualViewport.width:d[D];h-=N-n.width,h*=p?1:-1}}var A=Object.assign({position:l},c&&Dn),L=u===!0?Sn({x:h,y:v}):{x:h,y:v};if(h=L.x,v=L.y,p){var R;return Object.assign({},A,(R={},R[i]=T?"0":"",R[M]=y?"0":"",R.transform=(O.devicePixelRatio||1)<=1?"translate("+h+"px, "+v+"px)":"translate3d("+h+"px, "+v+"px, 0)",R))}return Object.assign({},A,(e={},e[i]=T?v+"px":"",e[M]=y?h+"px":"",e.transform="",e))}function Ln(t){var e=t.state,r=t.options,n=r.gpuAcceleration,o=n===void 0?!0:n,a=r.adaptive,f=a===void 0?!0:a,l=r.roundOffsets,p=l===void 0?!0:l;if(!1)var c;var u={placement:$(e.placement),variation:ee(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,hr(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:f,roundOffsets:p})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,hr(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var gr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ln,data:{}};var Tt={passive:!0};function Mn(t){var e=t.state,r=t.instance,n=t.options,o=n.scroll,a=o===void 0?!0:o,f=n.resize,l=f===void 0?!0:f,p=j(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(u){u.addEventListener("scroll",r.update,Tt)}),l&&p.addEventListener("resize",r.update,Tt),function(){a&&c.forEach(function(u){u.removeEventListener("scroll",r.update,Tt)}),l&&p.removeEventListener("resize",r.update,Tt)}}var yr={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Mn,data:{}};var Nn={left:"right",right:"left",bottom:"top",top:"bottom"};function Ue(t){return t.replace(/left|right|bottom|top/g,function(e){return Nn[e]})}var Rn={start:"end",end:"start"};function Pt(t){return t.replace(/start|end/g,function(e){return Rn[e]})}function Me(t){var e=j(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Ne(t){return Z(F(t)).left+Me(t).scrollLeft}function Bt(t,e){var r=j(t),n=F(t),o=r.visualViewport,a=n.clientWidth,f=n.clientHeight,l=0,p=0;if(o){a=o.width,f=o.height;var c=Ze();(c||!c&&e==="fixed")&&(l=o.offsetLeft,p=o.offsetTop)}return{width:a,height:f,x:l+Ne(t),y:p}}function Wt(t){var e,r=F(t),n=Me(t),o=(e=t.ownerDocument)==null?void 0:e.body,a=re(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),f=re(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-n.scrollLeft+Ne(t),p=-n.scrollTop;return G(o||r).direction==="rtl"&&(l+=re(r.clientWidth,o?o.clientWidth:0)-a),{width:a,height:f,x:l,y:p}}function Re(t){var e=G(t),r=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function At(t){return["html","body","#document"].indexOf(_(t))>=0?t.ownerDocument.body:H(t)&&Re(t)?t:At(he(t))}function we(t,e){var r;e===void 0&&(e=[]);var n=At(t),o=n===((r=t.ownerDocument)==null?void 0:r.body),a=j(n),f=o?[a].concat(a.visualViewport||[],Re(n)?n:[]):n,l=e.concat(f);return o?l:l.concat(we(he(f)))}function Fe(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function kn(t,e){var r=Z(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function br(t,e,r){return e===Et?Fe(Bt(t,r)):Q(e)?kn(e,r):Fe(Wt(F(t)))}function jn(t){var e=we(he(t)),r=["absolute","fixed"].indexOf(G(t).position)>=0,n=r&&H(t)?ne(t):t;return Q(n)?e.filter(function(o){return Q(o)&&et(o,n)&&_(o)!=="body"}):[]}function Ht(t,e,r,n){var o=e==="clippingParents"?jn(t):[].concat(e),a=[].concat(o,[r]),f=a[0],l=a.reduce(function(p,c){var u=br(t,c,n);return p.top=re(u.top,p.top),p.right=Ce(u.right,p.right),p.bottom=Ce(u.bottom,p.bottom),p.left=re(u.left,p.left),p},br(t,f,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function ot(t){var e=t.reference,r=t.element,n=t.placement,o=n?$(n):null,a=n?ee(n):null,f=e.x+e.width/2-r.width/2,l=e.y+e.height/2-r.height/2,p;switch(o){case I:p={x:f,y:e.y-r.height};break;case W:p={x:f,y:e.y+e.height};break;case B:p={x:e.x+e.width,y:l};break;case V:p={x:e.x-r.width,y:l};break;default:p={x:e.x,y:e.y}}var c=o?Se(o):null;if(c!=null){var u=c==="y"?"height":"width";switch(a){case me:p[c]=p[c]-(e[u]/2-r[u]/2);break;case Ae:p[c]=p[c]+(e[u]/2-r[u]/2);break;default:}}return p}function oe(t,e){e===void 0&&(e={});var r=e,n=r.placement,o=n===void 0?t.placement:n,a=r.strategy,f=a===void 0?t.strategy:a,l=r.boundary,p=l===void 0?lr:l,c=r.rootBoundary,u=c===void 0?Et:c,w=r.elementContext,E=w===void 0?He:w,h=r.altBoundary,x=h===void 0?!1:h,v=r.padding,b=v===void 0?0:v,y=rt(typeof b!="number"?b:nt(b,be)),T=E===He?ur:He,M=t.rects.popper,i=t.elements[x?T:E],O=Ht(Q(i)?i:i.contextElement||F(t.elements.popper),p,u,f),d=Z(t.elements.reference),S=ot({reference:d,element:M,strategy:"absolute",placement:o}),D=Fe(Object.assign({},M,S)),k=E===He?D:d,N={top:O.top-k.top+y.top,bottom:k.bottom-O.bottom+y.bottom,left:O.left-k.left+y.left,right:k.right-O.right+y.right},A=t.modifiersData.offset;if(E===He&&A){var L=A[o];Object.keys(N).forEach(function(R){var Y=[B,W].indexOf(R)>=0?1:-1,K=[I,W].indexOf(R)>=0?"y":"x";N[R]+=L[K]*Y})}return N}function _t(t,e){e===void 0&&(e={});var r=e,n=r.placement,o=r.boundary,a=r.rootBoundary,f=r.padding,l=r.flipVariations,p=r.allowedAutoPlacements,c=p===void 0?Ot:p,u=ee(n),w=u?l?It:It.filter(function(x){return ee(x)===u}):be,E=w.filter(function(x){return c.indexOf(x)>=0});E.length===0&&(E=w);var h=E.reduce(function(x,v){return x[v]=oe(t,{placement:v,boundary:o,rootBoundary:a,padding:f})[$(v)],x},{});return Object.keys(h).sort(function(x,v){return h[x]-h[v]})}function In(t){if($(t)===xt)return[];var e=Ue(t);return[Pt(t),e,Pt(e)]}function Vn(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var o=r.mainAxis,a=o===void 0?!0:o,f=r.altAxis,l=f===void 0?!0:f,p=r.fallbackPlacements,c=r.padding,u=r.boundary,w=r.rootBoundary,E=r.altBoundary,h=r.flipVariations,x=h===void 0?!0:h,v=r.allowedAutoPlacements,b=e.options.placement,y=$(b),T=y===b,M=p||(T||!x?[Ue(b)]:In(b)),i=[b].concat(M).reduce(function(le,te){return le.concat($(te)===xt?_t(e,{placement:te,boundary:u,rootBoundary:w,padding:c,flipVariations:x,allowedAutoPlacements:v}):te)},[]),O=e.rects.reference,d=e.rects.popper,S=new Map,D=!0,k=i[0],N=0;N<i.length;N++){var A=i[N],L=$(A),R=ee(A)===me,Y=[I,W].indexOf(L)>=0,K=Y?"width":"height",X=oe(e,{placement:A,boundary:u,rootBoundary:w,altBoundary:E,padding:c}),q=Y?R?B:V:R?W:I;O[K]>d[K]&&(q=Ue(q));var U=Ue(q),ae=[];if(a&&ae.push(X[L]<=0),l&&ae.push(X[q]<=0,X[U]<=0),ae.every(function(le){return le})){k=A,D=!1;break}S.set(A,ae)}if(D)for(var se=x?3:1,xe=function(te){var ue=i.find(function(je){var ce=S.get(je);if(ce)return ce.slice(0,te).every(function(Ie){return Ie})});if(ue)return k=ue,"break"},pe=se;pe>0;pe--){var Ee=xe(pe);if(Ee==="break")break}e.placement!==k&&(e.modifiersData[n]._skip=!0,e.placement=k,e.reset=!0)}}var wr={name:"flip",enabled:!0,phase:"main",fn:Vn,requiresIfExists:["offset"],data:{_skip:!1}};function xr(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function Er(t){return[I,B,W,V].some(function(e){return t[e]>=0})}function Bn(t){var e=t.state,r=t.name,n=e.rects.reference,o=e.rects.popper,a=e.modifiersData.preventOverflow,f=oe(e,{elementContext:"reference"}),l=oe(e,{altBoundary:!0}),p=xr(f,n),c=xr(l,o,a),u=Er(p),w=Er(c);e.modifiersData[r]={referenceClippingOffsets:p,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:w},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":w})}var Or={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Bn};function Wn(t,e,r){var n=$(t),o=[V,I].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,f=a[0],l=a[1];return f=f||0,l=(l||0)*o,[V,B].indexOf(n)>=0?{x:l,y:f}:{x:f,y:l}}function Hn(t){var e=t.state,r=t.options,n=t.name,o=r.offset,a=o===void 0?[0,0]:o,f=Ot.reduce(function(u,w){return u[w]=Wn(w,e.rects,a),u},{}),l=f[e.placement],p=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=p,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=f}var Tr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Hn};function _n(t){var e=t.state,r=t.name;e.modifiersData[r]=ot({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Pr={name:"popperOffsets",enabled:!0,phase:"read",fn:_n,data:{}};function $t(t){return t==="x"?"y":"x"}function $n(t){var e=t.state,r=t.options,n=t.name,o=r.mainAxis,a=o===void 0?!0:o,f=r.altAxis,l=f===void 0?!1:f,p=r.boundary,c=r.rootBoundary,u=r.altBoundary,w=r.padding,E=r.tether,h=E===void 0?!0:E,x=r.tetherOffset,v=x===void 0?0:x,b=oe(e,{boundary:p,rootBoundary:c,padding:w,altBoundary:u}),y=$(e.placement),T=ee(e.placement),M=!T,i=Se(y),O=$t(i),d=e.modifiersData.popperOffsets,S=e.rects.reference,D=e.rects.popper,k=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,N=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(!!d){if(a){var R,Y=i==="y"?I:V,K=i==="y"?W:B,X=i==="y"?"height":"width",q=d[i],U=q+b[Y],ae=q-b[K],se=h?-D[X]/2:0,xe=T===me?S[X]:D[X],pe=T===me?-D[X]:-S[X],Ee=e.elements.arrow,le=h&&Ee?De(Ee):{width:0,height:0},te=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:tt(),ue=te[Y],je=te[K],ce=Le(0,S[X],le[X]),Ie=M?S[X]/2-se-ce-ue-N.mainAxis:xe-ce-ue-N.mainAxis,ge=M?-S[X]/2+se+ce+je+N.mainAxis:pe+ce+je+N.mainAxis,Ve=e.elements.arrow&&ne(e.elements.arrow),st=Ve?i==="y"?Ve.clientTop||0:Ve.clientLeft||0:0,Xe=(R=A?.[i])!=null?R:0,pt=q+Ie-Xe-st,ft=q+ge-Xe,qe=Le(h?Ce(U,pt):U,q,h?re(ae,ft):ae);d[i]=qe,L[i]=qe-q}if(l){var ze,lt=i==="x"?I:V,ut=i==="x"?W:B,de=d[O],ye=O==="y"?"height":"width",Ge=de+b[lt],Oe=de-b[ut],Ke=[I,V].indexOf(y)!==-1,ct=(ze=A?.[O])!=null?ze:0,dt=Ke?Ge:de-S[ye]-D[ye]-ct+N.altAxis,mt=Ke?de+S[ye]+D[ye]-ct-N.altAxis:Oe,vt=h&&Ke?mr(dt,de,mt):Le(h?dt:Ge,de,h?mt:Oe);d[O]=vt,L[O]=vt-de}e.modifiersData[n]=L}}var Ar={name:"preventOverflow",enabled:!0,phase:"main",fn:$n,requiresIfExists:["offset"]};function Ut(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Ft(t){return t===j(t)||!H(t)?Me(t):Ut(t)}function Un(t){var e=t.getBoundingClientRect(),r=ve(e.width)/t.offsetWidth||1,n=ve(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Yt(t,e,r){r===void 0&&(r=!1);var n=H(e),o=H(e)&&Un(e),a=F(e),f=Z(t,o,r),l={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(n||!n&&!r)&&((_(e)!=="body"||Re(a))&&(l=Ft(e)),H(e)?(p=Z(e,!0),p.x+=e.clientLeft,p.y+=e.clientTop):a&&(p.x=Ne(a))),{x:f.left+l.scrollLeft-p.x,y:f.top+l.scrollTop-p.y,width:f.width,height:f.height}}function Fn(t){var e=new Map,r=new Set,n=[];t.forEach(function(a){e.set(a.name,a)});function o(a){r.add(a.name);var f=[].concat(a.requires||[],a.requiresIfExists||[]);f.forEach(function(l){if(!r.has(l)){var p=e.get(l);p&&o(p)}}),n.push(a)}return t.forEach(function(a){r.has(a.name)||o(a)}),n}function Xt(t){var e=Fn(t);return cr.reduce(function(r,n){return r.concat(e.filter(function(o){return o.phase===n}))},[])}function qt(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function zt(t){var e=t.reduce(function(r,n){var o=r[n.name];return r[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var Cr={placement:"bottom",modifiers:[],strategy:"absolute"};function Dr(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Sr(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,o=e.defaultOptions,a=o===void 0?Cr:o;return function(l,p,c){c===void 0&&(c=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cr,a),modifiersData:{},elements:{reference:l,popper:p},attributes:{},styles:{}},w=[],E=!1,h={state:u,setOptions:function(y){var T=typeof y=="function"?y(u.options):y;v(),u.options=Object.assign({},a,u.options,T),u.scrollParents={reference:Q(l)?we(l):l.contextElement?we(l.contextElement):[],popper:we(p)};var M=Xt(zt([].concat(n,u.options.modifiers)));if(u.orderedModifiers=M.filter(function(A){return A.enabled}),!1){var i;if(getBasePlacement(u.options.placement)===auto)var O;var d,S,D,k,N}return x(),h.update()},forceUpdate:function(){if(!E){var y=u.elements,T=y.reference,M=y.popper;if(!!Dr(T,M)){u.rects={reference:Yt(T,ne(M),u.options.strategy==="fixed"),popper:De(M)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(A){return u.modifiersData[A.name]=Object.assign({},A.data)});for(var i=0,O=0;O<u.orderedModifiers.length;O++){if(u.reset===!0){u.reset=!1,O=-1;continue}var d=u.orderedModifiers[O],S=d.fn,D=d.options,k=D===void 0?{}:D,N=d.name;typeof S=="function"&&(u=S({state:u,options:k,name:N,instance:h})||u)}}}},update:qt(function(){return new Promise(function(b){h.forceUpdate(),b(u)})}),destroy:function(){v(),E=!0}};if(!Dr(l,p))return h;h.setOptions(c).then(function(b){!E&&c.onFirstUpdate&&c.onFirstUpdate(b)});function x(){u.orderedModifiers.forEach(function(b){var y=b.name,T=b.options,M=T===void 0?{}:T,i=b.effect;if(typeof i=="function"){var O=i({state:u,name:y,instance:h,options:M}),d=function(){};w.push(O||d)}})}function v(){w.forEach(function(b){return b()}),w=[]}return h}}var Yn=[yr,Pr,gr,Qe,Tr,wr,Ar,vr,Or],Gt=Sr({defaultModifiers:Yn});var Xn="tippy-box",Wr="tippy-content",qn="tippy-backdrop",Hr="tippy-arrow",_r="tippy-svg-arrow",ke={passive:!0,capture:!0},$r=function(){return document.body};function Kt(t,e,r){if(Array.isArray(t)){var n=t[e];return n??(Array.isArray(r)?r[e]:r)}return t}function nr(t,e){var r={}.toString.call(t);return r.indexOf("[object")===0&&r.indexOf(e+"]")>-1}function Ur(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Lr(t,e){if(e===0)return t;var r;return function(n){clearTimeout(r),r=setTimeout(function(){t(n)},e)}}function zn(t){return t.split(/\s+/).filter(Boolean)}function Ye(t){return[].concat(t)}function Mr(t,e){t.indexOf(e)===-1&&t.push(e)}function Gn(t){return t.filter(function(e,r){return t.indexOf(e)===r})}function Kn(t){return t.split("-")[0]}function St(t){return[].slice.call(t)}function Nr(t){return Object.keys(t).reduce(function(e,r){return t[r]!==void 0&&(e[r]=t[r]),e},{})}function it(){return document.createElement("div")}function Lt(t){return["Element","Fragment"].some(function(e){return nr(t,e)})}function Jn(t){return nr(t,"NodeList")}function Fr(t){return nr(t,"MouseEvent")}function Qn(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Zn(t){return Lt(t)?[t]:Jn(t)?St(t):Array.isArray(t)?t:St(document.querySelectorAll(t))}function Jt(t,e){t.forEach(function(r){r&&(r.style.transitionDuration=e+"ms")})}function Rr(t,e){t.forEach(function(r){r&&r.setAttribute("data-state",e)})}function Yr(t){var e,r=Ye(t),n=r[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function eo(t,e){var r=e.clientX,n=e.clientY;return t.every(function(o){var a=o.popperRect,f=o.popperState,l=o.props,p=l.interactiveBorder,c=Kn(f.placement),u=f.modifiersData.offset;if(!u)return!0;var w=c==="bottom"?u.top.y:0,E=c==="top"?u.bottom.y:0,h=c==="right"?u.left.x:0,x=c==="left"?u.right.x:0,v=a.top-n+w>p,b=n-a.bottom-E>p,y=a.left-r+h>p,T=r-a.right-x>p;return v||b||y||T})}function Qt(t,e,r){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(o){t[n](o,r)})}function kr(t,e){for(var r=e;r;){var n;if(t.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var fe={isTouch:!1},jr=0;function to(){fe.isTouch||(fe.isTouch=!0,window.performance&&document.addEventListener("mousemove",Xr))}function Xr(){var t=performance.now();t-jr<20&&(fe.isTouch=!1,document.removeEventListener("mousemove",Xr)),jr=t}function ro(){var t=document.activeElement;if(Qn(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function no(){document.addEventListener("touchstart",to,ke),window.addEventListener("blur",ro)}var oo=typeof window<"u"&&typeof document<"u",io=oo?!!window.msCrypto:!1;var ao={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},so={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ie=Object.assign({appendTo:$r,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},ao,so),po=Object.keys(ie),fo=function(e){var r=Object.keys(e);r.forEach(function(n){ie[n]=e[n]})};function qr(t){var e=t.plugins||[],r=e.reduce(function(n,o){var a=o.name,f=o.defaultValue;if(a){var l;n[a]=t[a]!==void 0?t[a]:(l=ie[a])!=null?l:f}return n},{});return Object.assign({},t,r)}function lo(t,e){var r=e?Object.keys(qr(Object.assign({},ie,{plugins:e}))):po,n=r.reduce(function(o,a){var f=(t.getAttribute("data-tippy-"+a)||"").trim();if(!f)return o;if(a==="content")o[a]=f;else try{o[a]=JSON.parse(f)}catch{o[a]=f}return o},{});return n}function Ir(t,e){var r=Object.assign({},e,{content:Ur(e.content,[t])},e.ignoreAttributes?{}:lo(t,e.plugins));return r.aria=Object.assign({},ie.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?e.interactive:r.aria.expanded,content:r.aria.content==="auto"?e.interactive?null:"describedby":r.aria.content},r}var uo=function(){return"innerHTML"};function er(t,e){t[uo()]=e}function Vr(t){var e=it();return t===!0?e.className=Hr:(e.className=_r,Lt(t)?e.appendChild(t):er(e,t)),e}function Br(t,e){Lt(e.content)?(er(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?er(t,e.content):t.textContent=e.content)}function tr(t){var e=t.firstElementChild,r=St(e.children);return{box:e,content:r.find(function(n){return n.classList.contains(Wr)}),arrow:r.find(function(n){return n.classList.contains(Hr)||n.classList.contains(_r)}),backdrop:r.find(function(n){return n.classList.contains(qn)})}}function zr(t){var e=it(),r=it();r.className=Xn,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=it();n.className=Wr,n.setAttribute("data-state","hidden"),Br(n,t.props),e.appendChild(r),r.appendChild(n),o(t.props,t.props);function o(a,f){var l=tr(e),p=l.box,c=l.content,u=l.arrow;f.theme?p.setAttribute("data-theme",f.theme):p.removeAttribute("data-theme"),typeof f.animation=="string"?p.setAttribute("data-animation",f.animation):p.removeAttribute("data-animation"),f.inertia?p.setAttribute("data-inertia",""):p.removeAttribute("data-inertia"),p.style.maxWidth=typeof f.maxWidth=="number"?f.maxWidth+"px":f.maxWidth,f.role?p.setAttribute("role",f.role):p.removeAttribute("role"),(a.content!==f.content||a.allowHTML!==f.allowHTML)&&Br(c,t.props),f.arrow?u?a.arrow!==f.arrow&&(p.removeChild(u),p.appendChild(Vr(f.arrow))):p.appendChild(Vr(f.arrow)):u&&p.removeChild(u)}return{popper:e,onUpdate:o}}zr.$$tippy=!0;var co=1,Ct=[],Zt=[];function mo(t,e){var r=Ir(t,Object.assign({},ie,qr(Nr(e)))),n,o,a,f=!1,l=!1,p=!1,c=!1,u,w,E,h=[],x=Lr(pt,r.interactiveDebounce),v,b=co++,y=null,T=Gn(r.plugins),M={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},i={id:b,reference:t,popper:it(),popperInstance:y,props:r,state:M,plugins:T,clearDelayTimeouts:dt,setProps:mt,setContent:vt,show:en,hide:tn,hideWithInteractivity:rn,enable:Ke,disable:ct,unmount:nn,destroy:on};if(!r.render)return i;var O=r.render(i),d=O.popper,S=O.onUpdate;d.setAttribute("data-tippy-root",""),d.id="tippy-"+i.id,i.popper=d,t._tippy=i,d._tippy=i;var D=T.map(function(s){return s.fn(i)}),k=t.hasAttribute("aria-expanded");return Ve(),se(),q(),U("onCreate",[i]),r.showOnCreate&&Ge(),d.addEventListener("mouseenter",function(){i.props.interactive&&i.state.isVisible&&i.clearDelayTimeouts()}),d.addEventListener("mouseleave",function(){i.props.interactive&&i.props.trigger.indexOf("mouseenter")>=0&&Y().addEventListener("mousemove",x)}),i;function N(){var s=i.props.touch;return Array.isArray(s)?s:[s,0]}function A(){return N()[0]==="hold"}function L(){var s;return!!((s=i.props.render)!=null&&s.$$tippy)}function R(){return v||t}function Y(){var s=R().parentNode;return s?Yr(s):document}function K(){return tr(d)}function X(s){return i.state.isMounted&&!i.state.isVisible||fe.isTouch||u&&u.type==="focus"?0:Kt(i.props.delay,s?0:1,ie.delay)}function q(s){s===void 0&&(s=!1),d.style.pointerEvents=i.props.interactive&&!s?"":"none",d.style.zIndex=""+i.props.zIndex}function U(s,m,g){if(g===void 0&&(g=!0),D.forEach(function(P){P[s]&&P[s].apply(P,m)}),g){var C;(C=i.props)[s].apply(C,m)}}function ae(){var s=i.props.aria;if(!!s.content){var m="aria-"+s.content,g=d.id,C=Ye(i.props.triggerTarget||t);C.forEach(function(P){var z=P.getAttribute(m);if(i.state.isVisible)P.setAttribute(m,z?z+" "+g:g);else{var J=z&&z.replace(g,"").trim();J?P.setAttribute(m,J):P.removeAttribute(m)}})}}function se(){if(!(k||!i.props.aria.expanded)){var s=Ye(i.props.triggerTarget||t);s.forEach(function(m){i.props.interactive?m.setAttribute("aria-expanded",i.state.isVisible&&m===R()?"true":"false"):m.removeAttribute("aria-expanded")})}}function xe(){Y().removeEventListener("mousemove",x),Ct=Ct.filter(function(s){return s!==x})}function pe(s){if(!(fe.isTouch&&(p||s.type==="mousedown"))){var m=s.composedPath&&s.composedPath()[0]||s.target;if(!(i.props.interactive&&kr(d,m))){if(Ye(i.props.triggerTarget||t).some(function(g){return kr(g,m)})){if(fe.isTouch||i.state.isVisible&&i.props.trigger.indexOf("click")>=0)return}else U("onClickOutside",[i,s]);i.props.hideOnClick===!0&&(i.clearDelayTimeouts(),i.hide(),l=!0,setTimeout(function(){l=!1}),i.state.isMounted||ue())}}}function Ee(){p=!0}function le(){p=!1}function te(){var s=Y();s.addEventListener("mousedown",pe,!0),s.addEventListener("touchend",pe,ke),s.addEventListener("touchstart",le,ke),s.addEventListener("touchmove",Ee,ke)}function ue(){var s=Y();s.removeEventListener("mousedown",pe,!0),s.removeEventListener("touchend",pe,ke),s.removeEventListener("touchstart",le,ke),s.removeEventListener("touchmove",Ee,ke)}function je(s,m){Ie(s,function(){!i.state.isVisible&&d.parentNode&&d.parentNode.contains(d)&&m()})}function ce(s,m){Ie(s,m)}function Ie(s,m){var g=K().box;function C(P){P.target===g&&(Qt(g,"remove",C),m())}if(s===0)return m();Qt(g,"remove",w),Qt(g,"add",C),w=C}function ge(s,m,g){g===void 0&&(g=!1);var C=Ye(i.props.triggerTarget||t);C.forEach(function(P){P.addEventListener(s,m,g),h.push({node:P,eventType:s,handler:m,options:g})})}function Ve(){A()&&(ge("touchstart",Xe,{passive:!0}),ge("touchend",ft,{passive:!0})),zn(i.props.trigger).forEach(function(s){if(s!=="manual")switch(ge(s,Xe),s){case"mouseenter":ge("mouseleave",ft);break;case"focus":ge(io?"focusout":"blur",qe);break;case"focusin":ge("focusout",qe);break}})}function st(){h.forEach(function(s){var m=s.node,g=s.eventType,C=s.handler,P=s.options;m.removeEventListener(g,C,P)}),h=[]}function Xe(s){var m,g=!1;if(!(!i.state.isEnabled||ze(s)||l)){var C=((m=u)==null?void 0:m.type)==="focus";u=s,v=s.currentTarget,se(),!i.state.isVisible&&Fr(s)&&Ct.forEach(function(P){return P(s)}),s.type==="click"&&(i.props.trigger.indexOf("mouseenter")<0||f)&&i.props.hideOnClick!==!1&&i.state.isVisible?g=!0:Ge(s),s.type==="click"&&(f=!g),g&&!C&&Oe(s)}}function pt(s){var m=s.target,g=R().contains(m)||d.contains(m);if(!(s.type==="mousemove"&&g)){var C=ye().concat(d).map(function(P){var z,J=P._tippy,Be=(z=J.popperInstance)==null?void 0:z.state;return Be?{popperRect:P.getBoundingClientRect(),popperState:Be,props:r}:null}).filter(Boolean);eo(C,s)&&(xe(),Oe(s))}}function ft(s){var m=ze(s)||i.props.trigger.indexOf("click")>=0&&f;if(!m){if(i.props.interactive){i.hideWithInteractivity(s);return}Oe(s)}}function qe(s){i.props.trigger.indexOf("focusin")<0&&s.target!==R()||i.props.interactive&&s.relatedTarget&&d.contains(s.relatedTarget)||Oe(s)}function ze(s){return fe.isTouch?A()!==s.type.indexOf("touch")>=0:!1}function lt(){ut();var s=i.props,m=s.popperOptions,g=s.placement,C=s.offset,P=s.getReferenceClientRect,z=s.moveTransition,J=L()?tr(d).arrow:null,Be=P?{getBoundingClientRect:P,contextElement:P.contextElement||R()}:t,ir={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ht){var We=ht.state;if(L()){var an=K(),Nt=an.box;["placement","reference-hidden","escaped"].forEach(function(gt){gt==="placement"?Nt.setAttribute("data-placement",We.placement):We.attributes.popper["data-popper-"+gt]?Nt.setAttribute("data-"+gt,""):Nt.removeAttribute("data-"+gt)}),We.attributes.popper={}}}},Te=[{name:"offset",options:{offset:C}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!z}},ir];L()&&J&&Te.push({name:"arrow",options:{element:J,padding:3}}),Te.push.apply(Te,m?.modifiers||[]),i.popperInstance=Gt(Be,d,Object.assign({},m,{placement:g,onFirstUpdate:E,modifiers:Te}))}function ut(){i.popperInstance&&(i.popperInstance.destroy(),i.popperInstance=null)}function de(){var s=i.props.appendTo,m,g=R();i.props.interactive&&s===$r||s==="parent"?m=g.parentNode:m=Ur(s,[g]),m.contains(d)||m.appendChild(d),i.state.isMounted=!0,lt()}function ye(){return St(d.querySelectorAll("[data-tippy-root]"))}function Ge(s){i.clearDelayTimeouts(),s&&U("onTrigger",[i,s]),te();var m=X(!0),g=N(),C=g[0],P=g[1];fe.isTouch&&C==="hold"&&P&&(m=P),m?n=setTimeout(function(){i.show()},m):i.show()}function Oe(s){if(i.clearDelayTimeouts(),U("onUntrigger",[i,s]),!i.state.isVisible){ue();return}if(!(i.props.trigger.indexOf("mouseenter")>=0&&i.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(s.type)>=0&&f)){var m=X(!1);m?o=setTimeout(function(){i.state.isVisible&&i.hide()},m):a=requestAnimationFrame(function(){i.hide()})}}function Ke(){i.state.isEnabled=!0}function ct(){i.hide(),i.state.isEnabled=!1}function dt(){clearTimeout(n),clearTimeout(o),cancelAnimationFrame(a)}function mt(s){if(!i.state.isDestroyed){U("onBeforeUpdate",[i,s]),st();var m=i.props,g=Ir(t,Object.assign({},m,Nr(s),{ignoreAttributes:!0}));i.props=g,Ve(),m.interactiveDebounce!==g.interactiveDebounce&&(xe(),x=Lr(pt,g.interactiveDebounce)),m.triggerTarget&&!g.triggerTarget?Ye(m.triggerTarget).forEach(function(C){C.removeAttribute("aria-expanded")}):g.triggerTarget&&t.removeAttribute("aria-expanded"),se(),q(),S&&S(m,g),i.popperInstance&&(lt(),ye().forEach(function(C){requestAnimationFrame(C._tippy.popperInstance.forceUpdate)})),U("onAfterUpdate",[i,s])}}function vt(s){i.setProps({content:s})}function en(){var s=i.state.isVisible,m=i.state.isDestroyed,g=!i.state.isEnabled,C=fe.isTouch&&!i.props.touch,P=Kt(i.props.duration,0,ie.duration);if(!(s||m||g||C)&&!R().hasAttribute("disabled")&&(U("onShow",[i],!1),i.props.onShow(i)!==!1)){if(i.state.isVisible=!0,L()&&(d.style.visibility="visible"),q(),te(),i.state.isMounted||(d.style.transition="none"),L()){var z=K(),J=z.box,Be=z.content;Jt([J,Be],0)}E=function(){var Te;if(!(!i.state.isVisible||c)){if(c=!0,d.offsetHeight,d.style.transition=i.props.moveTransition,L()&&i.props.animation){var Mt=K(),ht=Mt.box,We=Mt.content;Jt([ht,We],P),Rr([ht,We],"visible")}ae(),se(),Mr(Zt,i),(Te=i.popperInstance)==null||Te.forceUpdate(),U("onMount",[i]),i.props.animation&&L()&&ce(P,function(){i.state.isShown=!0,U("onShown",[i])})}},de()}}function tn(){var s=!i.state.isVisible,m=i.state.isDestroyed,g=!i.state.isEnabled,C=Kt(i.props.duration,1,ie.duration);if(!(s||m||g)&&(U("onHide",[i],!1),i.props.onHide(i)!==!1)){if(i.state.isVisible=!1,i.state.isShown=!1,c=!1,f=!1,L()&&(d.style.visibility="hidden"),xe(),ue(),q(!0),L()){var P=K(),z=P.box,J=P.content;i.props.animation&&(Jt([z,J],C),Rr([z,J],"hidden"))}ae(),se(),i.props.animation?L()&&je(C,i.unmount):i.unmount()}}function rn(s){Y().addEventListener("mousemove",x),Mr(Ct,x),x(s)}function nn(){i.state.isVisible&&i.hide(),i.state.isMounted&&(ut(),ye().forEach(function(s){s._tippy.unmount()}),d.parentNode&&d.parentNode.removeChild(d),Zt=Zt.filter(function(s){return s!==i}),i.state.isMounted=!1,U("onHidden",[i]))}function on(){i.state.isDestroyed||(i.clearDelayTimeouts(),i.unmount(),st(),delete t._tippy,i.state.isDestroyed=!0,U("onDestroy",[i]))}}function at(t,e){e===void 0&&(e={});var r=ie.plugins.concat(e.plugins||[]);no();var n=Object.assign({},e,{plugins:r}),o=Zn(t);if(!1)var a,f;var l=o.reduce(function(p,c){var u=c&&mo(c,n);return u&&p.push(u),p},[]);return Lt(t)?l[0]:l}at.defaultProps=ie;at.setDefaultProps=fo;at.currentInput=fe;var Tp=Object.assign({},Qe,{effect:function(e){var r=e.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});var rr={clientX:0,clientY:0},Dt=[];function Gr(t){var e=t.clientX,r=t.clientY;rr={clientX:e,clientY:r}}function vo(t){t.addEventListener("mousemove",Gr)}function ho(t){t.removeEventListener("mousemove",Gr)}var Kr={name:"followCursor",defaultValue:!1,fn:function(e){var r=e.reference,n=Yr(e.props.triggerTarget||r),o=!1,a=!1,f=!0,l=e.props;function p(){return e.props.followCursor==="initial"&&e.state.isVisible}function c(){n.addEventListener("mousemove",E)}function u(){n.removeEventListener("mousemove",E)}function w(){o=!0,e.setProps({getReferenceClientRect:null}),o=!1}function E(v){var b=v.target?r.contains(v.target):!0,y=e.props.followCursor,T=v.clientX,M=v.clientY,i=r.getBoundingClientRect(),O=T-i.left,d=M-i.top;(b||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var D=r.getBoundingClientRect(),k=T,N=M;y==="initial"&&(k=D.left+O,N=D.top+d);var A=y==="horizontal"?D.top:N,L=y==="vertical"?D.right:k,R=y==="horizontal"?D.bottom:N,Y=y==="vertical"?D.left:k;return{width:L-Y,height:R-A,top:A,right:L,bottom:R,left:Y}}})}function h(){e.props.followCursor&&(Dt.push({instance:e,doc:n}),vo(n))}function x(){Dt=Dt.filter(function(v){return v.instance!==e}),Dt.filter(function(v){return v.doc===n}).length===0&&ho(n)}return{onCreate:h,onDestroy:x,onBeforeUpdate:function(){l=e.props},onAfterUpdate:function(b,y){var T=y.followCursor;o||T!==void 0&&l.followCursor!==T&&(x(),T?(h(),e.state.isMounted&&!a&&!p()&&c()):(u(),w()))},onMount:function(){e.props.followCursor&&!a&&(f&&(E(rr),f=!1),p()||c())},onTrigger:function(b,y){Fr(y)&&(rr={clientX:y.clientX,clientY:y.clientY}),a=y.type==="focus"},onHidden:function(){e.props.followCursor&&(w(),u(),f=!0)}}}};at.setDefaultProps({render:zr});var Jr=at;var Qr=()=>`
  <template id="hyperfov-link-preview-template">
  <style>
    .link-popup-wrapper {
      border: var(--lp-border, none);
      padding: var(--lp-padding, 0px);
      background: var(--lp-background, white);
      box-shadow: var(
        --lp-box-shadow,
        0px 5px 15px rgba(101, 101, 110, 0.3)
      );
      border-radius: var(--lp-border-radius, 6px);
      max-width: var(--lp-max-width, 300px);
      font-family: var(--lp-font-family, inherit);
      font-weight: var(--lp-font-weight, normal);
    }

    .link-interior-content div:first-child {
      padding-top: 5px;
    }

    .link-interior-content div:last-child {
      padding-bottom: 5px;
    }

    .link-image {
      flex-shrink: 0;
    }

    .link-url {
      text-overflow: ellipsis;
      overflow: hidden;
      white-space: nowrap;
      padding: var(--lp-link-padding, 0 10px);
      font-weight: var(--lp-link-font-weight, normal);
      color: var(--lp-link-color, grey);
      font-size: var(--lp-link-font-size, 12px);
      font-family: var(--lp-link-font-family, inherit);
      border: var(--lp-link-border, none);
    }

    .link-title {
      padding: var(--lp-title-padding, 0 10px 3px 10px);
      font-weight: var(--lp-title-font-weight, bold);
      color: var(--lp-title-color, inherit);
      font-size: var(--lp-title-font-size, 16px);
      font-family: var(--lp-title-font-family, inherit);
      border: var(--lp-title-border, none);
    }

    .link-description {
      padding: var(--lp-description-padding, 0 10px 3px 10px);
      font-weight: var(--lp-description-font-weight, normal);
      color: var(--lp-description-color, inherit);
      font-size: var(--lp-description-font-size, 16px);
      font-family: var(--lp-description-font-family, inherit);
      border: var(--lp-description-border, none);
    }

    ::slotted(#lp-image) {
      max-width: 100%;
      border-radius: var(--lp-image-border-radius, 3px 3px 0 0);
      border: var(--lp-image-border, none);
      width: max-content;
      height: auto;
      object-fit: var(--lp-image-object-fit, cover);
      object-position: var(--lp-image-object-position, center center);
      max-height: var(--lp-image-max-height, 150px);
      display: inline-block !important;
      margin: 0 !important;
    }

    ::slotted(#lp-favicon) {
      max-height: 14px;
      max-width: 14px;
      margin: 0 !important;
      margin-right: 5px !important;
      display: inline-block !important;
      width: auto !important;
    }
  </style>
  <div class="link-popup-wrapper">
    <div class="link-image"><slot name="lp-image"></slot></div>
    <div class="link-interior-content">
      <div class="link-title">
        <slot name="lp-favicon"></slot>
        <slot name="lp-title"></slot>
      </div>
      <div class="link-description">
        <slot name="lp-description"></slot>
      </div>
      <div class="link-url"><slot name="lp-href"></slot></div>
    </div>
  </div>
</template>`;var or={content:null,worker:null,fetch:!0,fetchOnHover:!0,template:"basic",tippy:{placement:"bottom-start",animation:"shift-toward"}};customElements.define("link-preview",fr);function go(t,e){if(e=Je({},or,e),!window.matchMedia("(any-hover: hover)").matches)return Pe("this device doesn't support hover events; will not add any previews"),null;if(!e.worker&&e.fetch)return Rt("Missing `worker` in props, skipping. A worker url is required when `fetch` is true"),null;(!e.template||e.template==="basic")&&(document.body.insertAdjacentHTML("afterbegin",Qr()),e.template="#hyperfov-link-preview-template");let r=wt(t),n=[];for(let o of r)if(!e.href&&!o.hasAttribute("href")&&!o.hasAttribute("xlink:href"))Rt("Element missing href, skipping. Add an href attribute to the element or pass through `href` in props.");else{let a=yo(o,e),f=document.createElement("link-preview");Zr(f,a),document.body.appendChild(f);let l=bo(o,f,a),p=c=>{Zr(f,Je({},or,e,c)),c.tippy&&l.setProps(yt({},c.tippy))};n.push({setProps:p,tippy:l})}return n.length>0?n:null}function Zr(t,e){if(e.href)try{let r=new URL(e.href.toString());e.content?e.content.href=r.toString():e.content={href:r.toString()}}catch(r){Pe(`Unable to parse url ${e.href}`)}t.setAttribute("content",JSON.stringify(e.content)),e.template&&t.setAttribute("template",e.template.toString()),e.worker&&t.setAttribute("worker",e.worker.toString()),e.fetch&&t.setAttribute("fetch",e.fetch.toString()),e.fetchOnHover&&t.setAttribute("fetch-on-hover",e.fetchOnHover.toString())}function yo(t,e){let r=yt({},e);for(let n of t.attributes){let o=t.getAttribute(n.nodeName);if(n.nodeName==="href"||n.nodeName==="xlink:href")try{let a=new URL(o);r.content?r.content.href=a.toString():r.content={href:a.toString()}}catch(a){Pe(`Unable to parse url ${e.href}`)}else if(n.nodeName.includes("lp-")){let a=n.nodeName.replace("lp-","").replace("xlink:","");r.content||(r.content={}),r.content[a]=o}}return r}function bo(t,e,r){return Jr(t,pr(yt({content:e},r.tippy),{plugins:[Kr],onShow:()=>{e.setAttribute("open","true")},onHide:()=>{e.setAttribute("open","false")},allowHTML:!0}))}Pe("running");window.linkPreview=go;})();
